{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/components/Main.vue?d2c6","webpack:///./src/App.vue","webpack:///./src/components/Main.vue","webpack:///./src/components/Header.vue","webpack:///./src/components/Header.vue?e257","webpack:///./src/components/Main.vue?f5c9","webpack:///./src/App.vue?eabf","webpack:///./src/main.js","webpack:///./src/components/Header.vue?e785","webpack:///./src/App.vue?3f0f"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","state","class","style","selected","ref","tabindex","stage","colorMode","focus","author","challengerJoined","singlePlayerMode","type","playerName","pollServer","processedGameLink","copy","linkCopied","maxlength","placeholder","autocomplete","joinGame","createGame","disabled","launchSinglePlayer","gameActuallyPlaying","countdown","playerJoinedCount","Array","fill","join","playGame","alive","reload","href","props","S","Math","sin","C","cos","x","computed","methods","Draw","G","a","B","w","R","Rl","Pt","Yw","oX","oY","oZ","tx","ty","tz","X","Y","Z","M","A","H","this","atan2","hypot","PI","width","clientWidth","fillStyle","clearRect","lineJoin","lineCap","map","v","q","beginPath","lineTo","height","strokeStyle","closePath","lineWidth","stroke","requestAnimationFrame","mounted","$nextTick","$refs","headerCanvas","getContext","clientHeight","render","__scopeId","components","Header","currentPiece","swapped","boardBG","Image","tempBoard","initDropFreq","dropFreq","rowsCompleted","spaceKey","leftKey","upKey","rightKey","downKey","tabKey","pieceMoveTimer","pieceRotateTimer","piceMoveInterval","pieceManualDropTimer","piecManualDropInterval","nextPieceIdx","random","countdownTimer","ret","playerAName","playerBName","playerCName","playerDName","gameLink","startGame","spawnPiece","JSON","parse","stringify","boardData","tempPiece","round","canDo","checkRowCompletion","rowfound","highScore","piece","advancePiece","syncBoard","copyToClipboard","gamelink","playerNumber","drawNextPiece","tx1","ty1","msx","max","drawOpponents","ms","oy","font","fillText","k","active","mx","my","playerAdata","playerBdata","playerCdata","playerDdata","drawImage","msp","px","py","fillRect","strokeRect","highscore","currows","quickPoll","sendData","gameID","gamedata","fetch","baseURL","method","headers","body","then","res","json","alert","location","origin","playing","tname","gamedataA","gamedataB","gamedataC","gamedataD","lastNameUpdateTimer","setTimeout","cx","tries","filter","launchGame","history","pushState","decToAlpha","console","log","setupListeners","document","getElementsByTagName","addEventListener","e","keyCode","watch","val","mainCanvas","src","userNameField","Main","gameStarted","getGameData","receivedGameData","alphaToDec","actuallyStartGame","setBG","linkeCopied","el","tmp","createElement","position","opacity","setAttribute","appendChild","select","setSelectionRange","execCommand","parentNode","removeChild","cur","mul","pow","substring","charCodeAt","alphabet","getMode","vars","pathname","split","bgimg","color","backgroundImage","createApp","App","mount"],"mappings":"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","file":"js/app.a8e65d18.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Main.vue?vue&type=style&index=0&id=273f5400&scoped=true&lang=css\"","<template>\n  <Main :state=\"state\"/>\n</template>\n\n<script>\nimport Main from './components/Main'\n\nexport default {\n  name: 'App',\n  components: {\n    Main\n  },\n  data(){\n    return {\n      state: {\n        gameStarted: false,\n        createGame: null,\n        getGameData: null,\n        baseURL: 'https://gummier-fish.000webhostapp.com/b/games/tetris/',\n        gameLink: '',\n        author: false,\n        receivedGameData: {},\n        playerName: '',\n\t\t\t\tsinglePlayerMode: false,\n        alive: true,\n        highScore: 0,\n        lastNameUpdateTimer: 0,\n        decToAlpha: null,\n        alphaToDec: null,\n        boardData: [],\n        gameActuallyPlaying: true,\n        countdownTimer: null,\n        actuallyStartGame: null,\n        colorMode: Math.random()<.5?'rainbows':'cyberpunk',\n        playerAName: '',\n        playerBName: '',\n        playerCName: '',\n        playerDName: '',\n        playerAdata: {boardData:[]},\n        playerBdata: {boardData:[]},\n        playerCdata: {boardData:[]},\n        playerDdata: {boardData:[]},\n        playerNumber: '',\n        gameID: -1,\n        mode: 0,\n        copyToClipboard: null,\n        setBG: null,\n        linkeCopied: false,\n        challengerJoined: false\n      }\n    }\n  },\n  methods:{\n    copyToClipboard(el){\n      let tmp = document.createElement('input')\n      tmp.style.position = 'absolute'\n      tmp.style.opacity = '0'\n      tmp.setAttribute('type', 'text')\n      tmp.value = this.state.gameLink\n      document.getElementsByTagName('body')[0].appendChild(tmp)\n      tmp.select()\n      tmp.setSelectionRange(0, 99999)\n      document.execCommand(\"copy\")\n      tmp.parentNode.removeChild(tmp)\n      this.state.linkCopied = true\n      setTimeout(()=>{\n        this.state.linkCopied = false\n      },1200)\n    },\n    alphaToDec(val){\n      let pow=0\n      let res=0\n      let cur, mul\n      while(val!=''){\n        cur=val[val.length-1]\n        val=val.substring(0,val.length-1)\n        mul=cur.charCodeAt(0)<58?cur:cur.charCodeAt(0)-(cur.charCodeAt(0)>96?87:29)\n        res+=mul*(62**pow)\n        pow++\n      }\n      return res\n    },\n    decToAlpha(n){\n      let alphabet='0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ'\n      let ret='', r\n      while(n){\n        ret = alphabet[Math.round((n/62-(r=n/62|0))*62)|0] + ret\n        n=r\n      }\n      return ret == '' ? '0' : ret\n    },\n    createGame(){\n      let sendData = {gamedata: {\n          playerName: this.state.playerName,\n          playerNumber: 'A'\n        }\n      }\n      fetch(this.state.baseURL + '/createGame.php',{\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify(sendData),\n      })\n      .then(res => res.json())\n      .then(data => {\n        if(data){\n          this.state.author = true\n          this.state.playerNumber = 'A'\n          this.state.gameID = data[0]\n          this.state.gameLink = this.state.baseURL + '/game/' + this.decToAlpha(data[0])\n        }\n      })\n    },\n    getMode(){\n      let vars = window.location.pathname.split('/').filter(v=>v)\n      if(vars.length>1){\n        switch(vars[0]){\n          case 'game':\n            this.state.gameID = this.alphaToDec(vars[1])\n            if(vars[2]=='a'){\n              this.state.author = true\n              this.state.stage = 1\n              this.state.gameLink = this.state.baseURL + '/game/' + this.decToAlpha(this.state.gameID )\n              this.state.playerNumber = 'A'\n            } else {\n              if(vars[1]){\n\t\t\t\t\t\t\t\tthis.state.stage = 2\n\t\t\t\t\t\t\t}\n            }\n          break;\n\t\t\t\t}\n      } else {\n\t\t\t  if(vars[0] == 'game') this.state.singlePlayerMode = true \n\t\t\t}\n    },\n    setBG(val){\n      let bgimg\n      switch(val){\n        case 'cyberpunk':\n          bgimg = 'https://lookie.jsbot.net/uploads/2clPtA.jpg';\n          document.getElementsByTagName('body')[0].style.color = '#0f8'\n          break\n        case 'rainbows':\n          bgimg = 'https://lookie.jsbot.net/uploads/1ECv2A.jpg';\n          document.getElementsByTagName('body')[0].style.color = '#ff0'\n          break\n        default:\n          bgimg = 'https://lookie.jsbot.net/uploads/1ECv2A.jpg';\n          break\n      }\n      document.getElementsByTagName('body')[0].style.backgroundImage = 'url(' + bgimg + ')'\n    }\n  },\n  mounted(){\n    this.getMode()\n    this.state.setBG = this.setBG\n    this.state.createGame = this.createGame\n    this.state.decToAlpha = this.decToAlpha\n    this.state.alphaToDec = this.alphaToDec\n    this.state.getGameData = this.getGameData\n    this.state.copyToClipboard = this.copyToClipboard\n    this.state.actuallyStartGame = this.actuallyStartGame\n    this.setBG(this.state.colorMode)\n  },\n  watch:{\n    'state.colorMode'(val){\n      this.setBG(val)\n    }\n  }\n}\n</script>\n\n<style>\n@import url('https://fonts.googleapis.com/css2?family=Varela+Round&display=swap');\nhtml {\n  margin: 0;\n}\nbody{\n  overflow: hidden;\n  height:100vh;\n  margin: 0;\n  background: #000 url(https://lookie.jsbot.net/uploads/1ECv2A.jpg) no-repeat;\n  background-position: center;\n  background-size: cover;\n  font-family: 'Varela Round';\n  color: #0f8;\n}\ninput:focus{\n  outline: none;\n}\ninput[type=search]{\n  background: #0000;\n  color: #0f8;\n  border: none;\n  border-bottom: 2px solid #0fc8;\n  font-family: \"Varela Round\";\n  text-align: center;\n  font-size: 24px;\n}\nbutton:focus{\n  outline: none;\n}\nbutton{\n  border: none;\n  background: linear-gradient(135deg, #0118, #068);\n  font-family: \"Varela Round\";\n  color: #0f8;\n  font-size: 24px;\n  padding: 20px;\n  padding-top: 5px;\n  padding-bottom: 8px;\n  border-radius: 10px;\n  cursor: pointer;\n}\nselect{\n  background: #000;\n  color: #0ff;\n  border: 1px solid #0ff8;\n}\n.noyellow{\n  color: #0f8;\n}\ncanvas:focus{\n  outline: none;\n}\n</style>\n","<template>\n  <div class=\"main\">\n    <div v-if=\"state.stage==1\" class=\"controls\" style=\"width: 750px;\">\n      <select v-model=\"state.colorMode\" style=\"margin-right: 10px;\" @input=\"c.focus()\">\n        <option selected value=\"cyberpunk\">cyberpunk</option>\n        <option value=\"rainbows\">rainbows</option>\n      </select>\n      <div v-if=\"!(state.author && state.stage==1 && !state.challengerJoined)\" style=\"display: inline-block;\">\n        <input v-if=\"!state.singlePlayerMode\" type=\"search\" v-model=\"state.playerName\" style=\"width: 150px; font-size: 18px; margin-right: 10px;background: #1236\" @input=\"pollServer(1)\">\n        <div style=\"display: inline-block;\" v-if=\"state.author\">\n          <span ref=\"gamelink\" class= \"gamelink\" v-html=\"processedGameLink\" style=\"font-size: .75em;background: #001; display: inline-block\"></span>\n          <div style=\"display: inline-block;\">\n            <button style=\"font-size: 14px;margin-left: 5px; padding: 5px; padding-left: 30px; padding-right: 1=5px; margin-top: 0px;background-image: url(https://lookie.jsbot.net/uploads/19npcK.png);background-repeat: no-repeat;background-position: 5px 2px; text-shadow: 1px 1px 2px #000;background-size: 20px 20px; border: 1px solid #8888; background-color: #6fa8;border-radius: 8px;padding-top: 3;\"\n            @click=\"copy()\"\n            :class=\"{'copied':state.linkCopied}\"\n            >copy</button><br>\n            <span v-if=\"state.linkCopied\" style=\"color: #0f8;font-size:12px;position: absolute; maring-top: 45px; width: 120px;margin-left: -58px;\">link copied!</span>\n          </div>\n        </div>\n      </div>\n    </div>\n    <Header :state=\"state\"/>\n    <div class=\"actionContainer\">\n      <canvas ref=\"mainCanvas\" tabindex=\"0\"></canvas>\n      <div class=\"inputForm\" :class=\"{'noyellow': state.colorMode=='cyberpunk'}\" v-if=\"!state.stage || state.stage==2\">\n        <div class=\"innerInputForm\" style=\"margin-top: -40px;background: #6488; padding: 20px; border-radius: 50%; box-shadow: 0 0 100px 100px #6488;width:300px;\">\n          <div v-if=\"state.stage\" style=\"color: #8fa;font-size: 1.4em;line-height: 1em;\">\n            You've been<br><span style=\"font-size: .8em;\">challenged to a</span><br>Tetris match!<br>\n          </div>\n          <div v-if=\"!state.stage\" style=\"color: #8fa\">\n            create a multiplayer<br><span style=\"font-size: 1.5em;\">Tetris match!</span><br>\n          </div><br>\n          <input\n            type=\"search\"\n            maxlength=\"16\"\n            placeholder=\"enter your name\"\n            v-model=\"state.playerName\"\n            autocomplete=\"off\"\n            ref=\"userNameField\"\n            v-on:keyup.enter=\"state.stage ? joinGame() : createGame()\"\n          ><br>\n          <button\n            v-if=\"state.playerName\"\n            class=\"createGameButton\"\n            :class=\"{'disabled': !state.playerName.length}\"\n            :disabled=\"!state.playerName.length\"\n            style=\"position: absolute; width: 250px;transform: translatex(-50%);margin-top: 20px;\"\n            @click=\"state.stage ? joinGame() : createGame()\"\n            v-html=\"state.stage ? 'join game' : 'create game'\"\n          ></button><br>\n\t\t\t\t\t<br>or<br><br>\n\t\t\t\t\t<button @click=\"launchSinglePlayer()\">play single<br>player mode</button>\n        </div>\n      </div>\n      <div v-if=\"!state.gameActuallyPlaying\">\n        <div v-if=\"!state.author && state.stage==1\" style=\"position: absolute; z-index: 1000; top:50%; left: 50%; transform: translate(-50%, -50%);background: #28a8; box-shadow: 0 0 100px 100px #28a8; padding: 20px; border-radius: 50%; font-size: 1em; margin-top:0px; width: 350px;\">\n          <div v-if=\"countdown <= 0\" style=\"margin-top: -30px;\">\n            <div style=\"color: #fff; text-shadow: 2px 2px 2px #000;\">\n            <span style=\"font-size: 3em;text-shadow: 0 0 10px #fff;color: #0ff;\">{{playerJoinedCount}}<br></span>players<br>have joined...<br>\n              <span style=\"font-size: .6em;\">\n                {{Array(1+(t*8|0)%8).fill(' <').join('')+Array(1+(t*8|0)%8).fill('> ').join('')}}<br>\n                waiting for the<br>\n                <span style=\"font-size: 2em;\">game master</span><br>to start the game<br>\n                {{Array(1+(t*8|0)%8).fill(' <').join('')+Array(1+(t*8|0)%8).fill('> ').join('')}}\n              </span>\n            </div>\n          </div>\n          <div v-else>\n            <div\n              :class=\"{'noyello': state.colorMode=='cyberpunk'}\"\n              :style=\"'transform: scale('+(.1+(t%1)*20)+'); opacity: '+(1-t%1)\"\n              v-html=\"countdown\"\n            ></div>\n          </div>\n        </div>\n        <div v-if=\"state.author && state.stage==1 && state.challengerJoined\" style=\"position: absolute; z-index: 1000; top:50%; left: 50%; transform: translate(-50%, -50%);background: #28a8; box-shadow: 0 0 100px 100px #28a8; padding: 40px; border-radius: 50%; font-size: .8em; margin-top:-20px;\">\n          <div v-if=\"countdown <= 0\">\n            {{playerJoinedCount}} players have joined...<br>\n            <button\n              style=\"background: linear-gradient(135deg, #0ff, #80f); color: #000; margin-top: 10px;\"\n              @click=\"playGame()\"\n              ref=\"startGameButton\"\n            >start game</button>\n          </div>\n          <div v-else>\n            <div\n              :style=\"'transform: scale('+(.1+(t%1)*20)+'); opacity: '+(1-t%1)\"\n              v-html=\"countdown\"\n            ></div>\n          </div>\n        </div>\n      </div>\n      <div v-if=\"state.stage == 1 && !state.alive\" >\n        <div style=\"position: absolute; z-index: 1000; top:50%; left: 50%; transform: translate(-50%, -50%);background: #f038; box-shadow: 0 0 100px 100px #f038; padding: 40px; border-radius: 50%; font-size: .8em; text-shadow: 2px 2px 2px #000;margin-top: -30px;\">\n          You've been defeated!<br><br>\n          <button\n            @click=\"reload()\"\n          >re-start</button>\n        </div>\n      </div>\n      <div v-if=\"state.author && state.stage==1 && !state.challengerJoined\" style=\"position: absolute; z-index: 1000; top:50%; left: 50%; transform: translate(-50%, -50%);background: #86c8; box-shadow: 0 0 100px 100px #86c8; padding: 40px; border-radius: 50%; font-size: .8em; text-shadow: 2px 2px 2px #000;\">\n        share this link with<br>up to 3 opponents!<br>\n        <span ref=\"gamelink\" class= \"gamelink\" v-html=\"processedGameLink\" style=\"background: #001;\"></span><br>\n        <div class=\"copyButtonDiv\" style=\"display: inline-block\">\n          <button style=\"font-size: 18px;margin-left: 5px; padding: 15px; padding-left: 50px; padding-right: 10px; margin-top: 10px;background-image: url(https://lookie.jsbot.net/uploads/19npcK.png);background-repeat: no-repeat;background-position: 5px 5px; text-shadow: 1px 1px 2px #000;background-size: 40px 40px; border: 1px solid #8888; background-color: #6fa8;border-radius: 8px;\"\n          @click=\"copy()\"\n          :class=\"{'copied':state.linkCopied}\"\n          >copy</button><br>\n          <span v-if=\"state.linkCopied\" style=\"color: #0f8;font-size:20px;position: absolute; maring-top: 45px; width: 120px;margin-left: -58px;\">link copied!</span>\n        </div><br>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Header from './Header'\nexport default {\n  name: 'Main',\n  props: [ 'state' ],\n  components: {\n    Header\n  },\n  data(){\n    return {\n      t: 0,\n      S: Math.sin,\n      C: Math.cos,\n      x: null,\n      currentPiece: null,\n      swapped: false,\n\t\t\tboardBG: new Image(),\n      tempBoard: [],\n      initDropFreq: 40,\n      dropFreq: 40,\n      rowsCompleted: 0,\n      c: null,\n      spaceKey: false,\n      leftKey: false,\n      upKey: false,\n      rightKey: false,\n      downKey: false,\n\t\t\ttabKey: false,\n      pieceMoveTimer: 0,\n      pieceRotateTimer: 0,\n\t\t\tpiceMoveInterval: .15,\n      pieceManualDropTimer: 0,\n      piecManualDropInterval: .02,\n      B: [],\n      G: [],\n      R: null,\n      nextPieceIdx: Math.random()*7|0,\n      stage: null\n    }\n  },\n  computed:{\n    countdown(){\n      return (this.state.countdownTimer - this.t | 0)\n    },\n    playerJoinedCount(){\n      let ret = 0\n      ret += this.state.playerAName ? 1 : 0\n      ret += this.state.playerBName ? 1 : 0\n      ret += this.state.playerCName ? 1 : 0\n      ret += this.state.playerDName ? 1 : 0\n      if(ret < 2) this.state.challengerJoined = false\n      return ret\n    },\n    processedGameLink(){\n      //return '<a href=\"' + this.state.gameLink + '\" target=\"_blank\">' + this.state.gameLink + '</a>'\n      return this.state.gameLink\n    }\n  },\n  methods:{\n\t\tlaunchSinglePlayer(){\n\t\t\tthis.state.singlePlayerMode = true\n\t\t\tthis.startGame()\n\t\t},\n    spawnPiece(X, Y){\n      this.tempBoard = JSON.parse(JSON.stringify(this.state.boardData))\n      let n = this.nextPieceIdx\n      this.nextPieceIdx = this.B.length*Math.random()|0\n      let tempPiece = JSON.parse(JSON.stringify(this.B))[n].map(v=>{\n        return [\n          Math.round(X + v[0]),\n          Math.round(Y + v[1]),\n          n\n        ]\n      })\n      if(this.canDo(tempPiece)){\n        this.currentPiece = tempPiece\n        this.state.boardData = this.state.boardData.map((v, i)=>{\n          let tx = i%10\n          let ty = (i/10|0) - 6\n          this.currentPiece.map(q=>{\n            if(q[0] == tx && q[1] == ty){\n              v[0] = q[2]+1\n              v[1] = 0\n            }\n          })\n          return v\n        })\n      } else {\n        this.state.alive = false\n      }\n    },\n    checkRowCompletion(){\n      let rowfound\n      for(let j=26; j--;){\n        rowfound = true\n        for(let i=0; i<10; ++i){\n          if(!this.state.boardData[j*10+i][0]) rowfound = false\n        }\n        if(rowfound){\n          this.rowsCompleted++\n          this.dropFreq = this.initDropFreq / (1+this.rowsCompleted/20)\n          if(this.rowsCompleted > this.state.highScore) this.state.highScore = this.rowsCompleted\n          for(let i=0; i<10; ++i){\n            this.state.boardData[j*10+i][1] = 1\n          }\n        }\n      }\n    },\n    canDo(piece){\n      let ret = true\n      this.tempBoard.map((v, i)=>{\n        let tx = i%10\n        let ty = (i/10|0) - 6\n        piece.map(q=>{\n          if(q[0] == tx && q[1] == ty && v[0] ||\n          q[1] > 19 ||\n          q[0] < 0 ||\n          q[0] > 9\n          ) ret = false\n        })\n      })\n      return ret\n    },\n    advancePiece(){\n      if(!this.currentPiece) return\n      let tempPiece = JSON.parse(JSON.stringify(this.currentPiece)).map(v=>{\n          return [\n            Math.round(v[0]),\n            Math.round(v[1]+1),\n            v[2]\n          ]\n        })\n        \n        \n      if(this.canDo(tempPiece)){\n        this.currentPiece = tempPiece\n        this.state.boardData = JSON.parse(JSON.stringify(this.tempBoard))\n        this.state.boardData = this.state.boardData.map((v, i)=>{\n          let tx = i%10\n          let ty = (i/10|0) - 6\n          this.currentPiece.map(q=>{\n            if(q[0] == tx && q[1] == ty){\n              v[0] = q[2]+1\n              v[1] = 0\n            }\n          })\n          return v\n        })\n      } else {\n\t\t\t\tthis.swapped = false\n        this.state.boardData = this.state.boardData.map((v, i)=>{\n          let tx = i%10\n          let ty = (i/10|0) - 6\n          this.currentPiece.map(q=>{\n            if(q[0] == tx && q[1] == ty){\n              v[0] = q[2]+1\n              v[1] = 0\n            }\n          })\n          return v\n        })\n        this.currentPiece = null\n        this.tempBoard = JSON.parse(JSON.stringify(this.state.boardData))\n        this.checkRowCompletion()\n      }\n    },\n    syncBoard(){\n      this.state.boardData = Array(260).fill().map(v=>[0,0])\n      this.dropFreq = this.initDropFreq\n      this.rowsCompleted = 0\n      this.tempBoard = Array(260).fill().map(v=>[0,0])\n    },\n    copy(){\n      this.state.copyToClipboard(this.$refs.gamelink)\n    },\n    createGame(){\n      this.state.createGame()\n    },\n    joinGame(){\n      this.state.playerNumber = '';\n      this.state.stage = 1\n      this.state.alive = true\n      this.syncBoard()\n      this.pollServer()\n      this.$nextTick(()=>this.Draw())\n    },\n    drawNextPiece(tx1, ty1, nextPieceIdx, msx){\n      let t = this.t\n      let S = this.S\n      let C = this.C\n      let x = this.x\n      let c = this.c\n            \n      x.lineJoin=x.lineCap = 'round'\n      let X, Y, Z, R\n      ty1 += 70\n      let Rl, Pt, Yw, oX, oY, oZ\n      Rl=t/4, Pt=-t/1.5, Yw=t*2\n      let s = (c.height - c.height/20) * msx\n      oX=0, oY=0, oZ=Math.max(4, 16 - s/60)\n\n      let M, A, p, H, d\n      R = (Rl,Pt,Yw,o)=>{\n        X=S(p=(A=(M=Math).atan2)(X,Y)+Rl)*(d=(H=M.hypot)(X,Y)),Y=C(p)*d,Y=S(p=A(Y,Z)+Pt)*(d=H(Y,Z)),Z=C(p)*d,X=S(p=A(X,Z)+Yw)*(d=H(X,Z)),Z=C(p)*d\n        if(o)X+=oX,Y+=oY,Z+=oZ\n      }\n      this.B.map((v, j)=>{\n        if(j==nextPieceIdx){\n          v.map(v=>{\n            let tx=v[0]\n            let ty=v[1]\n            let tz=v[2]\n            this.G.map((q, i)=>{\n              X = q[0] + tx\n              Y = q[1] + ty\n              Z = q[2] + tz\n              R(Rl*(j%2?1:-1),Pt*(j%2?1:-1.5),Yw,1)\n              if(!(i%4)) x.beginPath()\n              x.lineTo(tx1 + s/4.5 - 100 + X/Z*200,ty1 + s/8 - 70 + Y/Z*200)\n              if(i%4==3){\n                switch(this.state.colorMode){\n                  case 'cyberpunk':\n                    x.strokeStyle=`hsla(${170},75%,${60}%,.8)`\n                    x.fillStyle=`hsla(${170},75%,${60}%,.3)`\n                    break\n                  case 'rainbows':\n                    x.strokeStyle=`hsla(${360/7*j},75%,50%,.8)`\n                    x.fillStyle=`hsla(${360/7*j},75%,50%,.3)`\n                    break\n                }\n                x.closePath()\n                x.lineWidth=5/Z\n                //x.strokeStyle=`hsla(${360/7*j},99%,80%,.8)`\n                x.stroke()\n                //x.fillStyle=`hsla(${360/7*j},99%,50%,.3)`\n                x.fill()\n              }\n            })\n          })\n        }\n      })\n    },\n    drawOpponents(X, Y){\n      let t = this.t\n      let S = this.S\n      let C = this.C\n      let x = this.x\n      let c = this.c\n      let tx, ty, j, tx1, ty1\n      let ms = .4\n      let s = (c.height - c.height/20) * ms\n      let oy = Y + s/4\n\n\n      if(this.state.singlePlayerMode){\n\t\t\t\tx.font  = s/10 + 'px \"Varela Round\"'\n\t\t\t\tx.fillStyle = '#0f8'\n\t\t\t\tx.fillText('high score', X + s/4, Y + s/8*2)\n\t\t\t\tx.fillStyle = '#fff'\n\t\t\t\tx.fillText(this.state.highScore, X + s/2 - s/32, Y + s/8*3)\n        x.fillStyle = '#0f8'\n        x.fillText('rows completed', X + s/6, Y + s/8*5)\n        x.fillStyle = '#fff'\n        x.fillText(this.rowsCompleted, X + s/2 - s/32, Y + s/8*6)\n\t\t\t\treturn\n\t\t\t} else if(this.state.challengerJoined){\n        let ms = .2\n        let s = (c.height - c.height/20) * ms\n        let oy = Y + s/4\n        for(let k=0; k<4; ++k){\n          let active = true\n          switch(k){\n            case 0: if(!this.state.playerAName) active = false; break\n            case 1: if(!this.state.playerBName) active = false; break\n            case 2: if(!this.state.playerCName) active = false; break\n            case 3: if(!this.state.playerDName) active = false; break\n          }\n          let mx = (k%2+.3) * s*1.05\n          let my = ((k/2|0)) * s * 1.22\n          tx = mx + X + s/32 - s/4\n          let name\n          Y=my+oy\n          if(active){\n            let boardData = []\n            switch(k){\n              case 0: boardData = this.state.playerAdata.boardData; break\n              case 1: boardData = this.state.playerBdata.boardData; break\n              case 2: boardData = this.state.playerCdata.boardData; break\n              case 3: boardData = this.state.playerDdata.boardData; break\n            }\n            x.drawImage(this.boardBG, tx, Y, s/2, s)\n            let msp = s/1000\n            boardData.map((v,i)=>{\n              if(v[0]){\n                let px = mx + (i%10) * s / 20 + s / 35- s/4\n                let py = ((i/10|0)-6) * s / 20 - s/35\n                if((i/10|0)-6>=0){\n                  switch(this.state.colorMode){\n                    case 'cyberpunk':\n                      x.fillStyle=`hsla(${170},75%,${(v[1]?v[1]-1:0)*50*S(t*50)+25+70/7*(v[0]-1)}%,.8)`\n                      break\n                    case 'rainbows':\n                      x.fillStyle=`hsla(${360/7*(v[0]-1)},75%,${(v[1]?v[1]-1:0)*50*S(t*50)+50}%,.8)`\n                      break\n                  }\n                  x.fillRect(X + px + msp, Y + py + s/40 + msp, s/20 - msp*2, s/20 - msp*2)\n                }\n              }\n            })\n            x.strokeStyle='#aff6'\n            x.lineWidth = 2\n            x.strokeRect(tx, Y, s/2, s)\n\n            let alive = true\n            switch(k){\n              case 0: alive = this.state.playerAdata.alive; break\n              case 1: alive = this.state.playerBdata.alive; break\n              case 2: alive = this.state.playerCdata.alive; break\n              case 3: alive = this.state.playerDdata.alive; break\n            }\n            if(!alive){\n              x.fillStyle='#f248'\n              x.fillRect(tx, Y, s/2, s)\n            }\n\n            x.font = s/10 + 'px \"Varela Round\"'\n            switch(this.state.colorMode){\n              case 'cyberpunk': x.fillStyle='#0f8'; break\n              case 'rainbows': x.fillStyle='#ff0'; break\n              default: x.fillStyle='#0f8';\n            }\n            switch(k){\n              case 0: name = this.state.playerAName; break\n              case 1: name = this.state.playerBName; break\n              case 2: name = this.state.playerCName; break\n              case 3: name = this.state.playerDName; break\n            }\n            name = '\"' + name + '\"'\n            x.fillStyle='#ff0'\n            x.fillText(name, tx, Y - s/28)\n\n            x.font = s/10 + 'px \"Varela Round\"'\n            let highscore          \n            switch(k){\n              case 0: highscore = this.state.playerAdata.highScore; break\n              case 1: highscore = this.state.playerBdata.highScore; break\n              case 2: highscore = this.state.playerCdata.highScore; break\n              case 3: highscore = this.state.playerDdata.highScore; break\n            }\n            \n            x.fillStyle='#0f8'\n            x.fillText('high', tx + s/1.9, Y + s/10)\n            x.fillText('score', tx + s/1.9, Y + s/10*2)\n            x.fillStyle=\"#fff\"\n            x.fillText(highscore, tx + s/1.75, Y + s/10*3)\n\n            let currows\n            switch(k){\n              case 0: currows = this.state.playerAdata.rowsCompleted; break\n              case 1: currows = this.state.playerBdata.rowsCompleted; break\n              case 2: currows = this.state.playerCdata.rowsCompleted; break\n              case 3: currows = this.state.playerDdata.rowsCompleted; break\n            }\n            x.fillStyle='#0f8'\n            x.fillText('current', tx + s/1.9, Y + s/10 * 6)\n            x.fillText('rows', tx + s/1.9, Y + s/10 * 7)\n            x.fillStyle=\"#fff\"\n            x.fillText(currows, tx + s/1.75, Y + s/10 * 8)\n          } else {\n            x.fillStyle='#2228'\n            x.fillRect(tx, Y, s/2, s)\n            x.strokeStyle='#8886'\n            x.lineWidth = 1\n            x.strokeRect(tx, Y, s/2, s)\n            name = 'not joined'\n            x.font = s/10 + 'px \"Varela Round\"'\n            x.fillStyle='#888'\n            x.fillText(name, tx, Y - s/28)\n          }\n        }\n      } else {\n        Y = oy\n        x.font = s/8 + 'px \"Varela Round\"'\n        x.fillStyle='#fff8'\n        x.fillText('awaiting', X + s/3.25, Y + s/4)\n        x.fillText('challenger(s)', X + s / 5, Y + s/2.5)\n        x.font = s/4 + 'px \"Varela Round\"'\n        x.fillStyle='#4688'\n        x.fillText('['+Array((t*8|0)%8).fill('.').join('')+']', X + s / 2.1 - ((t*8|0)%8)*.035*s, Y + s/1.45)\n      }\n    },\n    async pollServer(quickPoll){\n      \n      let sendData = {\n        playerNumber: this.state.playerNumber,\n        gameID: this.state.gameID,\n        playerName: this.state.playerName,\n        gamedata: {\n          boardData: this.state.boardData,\n          highScore: this.state.highScore,\n          rowsCompleted: this.rowsCompleted,\n          alive: this.state.alive,\n          playerName: this.state.playerName,\n          playerNumber: this.state.playerNumber\n        }\n      }\n      let res = await fetch(this.state.baseURL + '/sync.php',{\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify(sendData),\n      })\n      .then(res => res.json())\n      .then(data => {\n        if(data){\n          if(data[0] == 'error - game full'){\n            alert('OOPS! game is full... you can create a new game though!')\n            window.location.href = window.location.origin\n          } else {\n            if(data[2]){\n              if(!(+data[2].playing)) this.state.gameActuallyPlaying = false\n              if(!!(+data[2].playing) && !this.state.gameActuallyPlaying && !this.state.countdownTimer){\n                this.t = 1\n                this.state.countdownTimer = this.t + 6\n              }\n            }\n            this.state.playerNumber = data[0]\n            let gamedata = data[2]\n            //let gamedataA = JSON.parse(gamedata.gamedataA)\n            let gamedataA = gamedata.gamedataA == '' ? [] : JSON.parse(gamedata.gamedataA)\n            let gamedataB = gamedata.gamedataB == '' ? [] : JSON.parse(gamedata.gamedataB)\n            let gamedataC = gamedata.gamedataC == '' ? [] : JSON.parse(gamedata.gamedataC)\n            let gamedataD = gamedata.gamedataD == '' ? [] : JSON.parse(gamedata.gamedataD)\n            if(typeof gamedataA.playerNumber == 'undefined'){\n              this.state.playerAName = ''\n              this.state.playerAdata = {boardData:[]}\n            }\n            if(typeof gamedataB.playerNumber == 'undefined'){\n              this.state.playerBName = ''\n              this.state.playerBdata = {boardData:[]}\n            }\n            if(typeof gamedataC.playerNumber == 'undefined'){\n              this.state.playerCName = ''\n              this.state.playerCdata = {boardData:[]}\n            }\n            if(typeof gamedataD.playerNumber == 'undefined'){\n              this.state.playerDName = ''\n              this.state.playerDdata = {boardData:[]}\n            }\n            let tname\n            if(this.state.author){\n              tname = gamedataA.playerName              \n            }\n            switch(this.state.playerNumber){\n              case 'B':\n                tname = gamedataB.playerName; break\n              case 'C':\n                tname = gamedataC.playerName; break\n              case 'D':\n                tname = gamedataD.playerName; break\n              default: if(!this.state.author) tname = ''; break\n            }\n            this.state.playerAdata = gamedataA\n            this.state.playerBdata = gamedataB\n            this.state.playerCdata = gamedataC\n            this.state.playerDdata = gamedataD\n            if(typeof tname != 'undefined' && !quickPoll && tname.length && (this.t - this.state.lastNameUpdateTimer) > 3 || this.t < 3){\n              this.state.playerName = tname\n              this.state.playerAdata = gamedataA\n            }\n            if(typeof gamedataA.playerName != 'undefined') this.state.playerAName = gamedataA.playerName\n            if(typeof gamedataB.playerName != 'undefined') this.state.playerBName = gamedataB.playerName\n            if(typeof gamedataC.playerName != 'undefined') this.state.playerCName = gamedataC.playerName\n            if(typeof gamedataD.playerName != 'undefined') this.state.playerDName = gamedataD.playerName\n            if(gamedataB.playerNumber || gamedataC.playerNumber || gamedataD.playerNumber) this.state.challengerJoined = true\n            if(quickPoll){\n              this.state.lastNameUpdateTimer = this.t\n            } else {\n              setTimeout(()=>{\n                this.pollServer()\n              }, 250)\n            }\n          }\n        }\n      })\n    },\n    Draw(){\n      let t = this.t\n      let S = this.S\n      let C = this.C\n      let x = this.x\n      let c = this.c\n\n      let G, j, i, p, a, l, B, w, Rn, R, Q, Rl, Pt, Yw, oX, oY, oZ, tx, ty, tz, X, Y, Z, M, A, H, d, s\n      \n\n      R = (Rl,Pt,Yw,o)=>{\n        X=S(p=(A=(M=Math).atan2)(X,Y)+Rl)*(d=(H=M.hypot)(X,Y)),Y=C(p)*d,Y=S(p=A(Y,Z)+Pt)*(d=H(Y,Z)),Z=C(p)*d,X=S(p=A(X,Z)+Yw)*(d=H(X,Z)),Z=C(p)*d\n        if(o)X+=oX,Y+=oY,Z+=oZ\n      }\n      if(!this.t){\n        for(j=6;j--;)for(i=4;i--;)this.G=[...this.G,[(a=[S(p=Math.PI*2/4*i+Math.PI/4)*(2**.5)/2,C(p)*(2**.5)/2,.5])[j%3]*(l=j<3?1:-1),a[(j+1)%3]*l,a[(j+2)%3]*l]]\n        this.B = [\n          [[-.5,-1,0],[-.5,0,0],[-.5,1,0],[.5,1,0]],\n          [[.5,-1,0],[.5,0,0],[.5,1,0],[-.5,1,0]],\n          [[-1,0,0],[0,0,0],[1,0,0],[0,1,0]],\n          [[-1.5,0,0],[-.5,0,0],[.5,0,0],[1.5,0,0]],\n          [[-.5,-1,0],[-.5,0,0],[.5,0,0],[.5,1,0]],\n          [[.5,-1,0],[.5,0,0],[-.5,0,0],[-.5,1,0]],\n          [[-.5,-.5,0],[.5,-.5,0],[.5,.5,0],[-.5,.5,0]]\n        ]\n      }\n      x.lineJoin=x.lineCap='round'\n      \n      c.width = c.clientWidth\n      c.height = c.clientHeight\n      x.fillStyle='#000'//, x.fillRect(0,0,w=c.width,w)\n      x.clearRect(0,0,w=c.width,w)\n      \n      Rl=t, Pt=-t/2, Yw=t\n      oX=0, oY=0, oZ=40\n \n      s = c.height - c.height/20\n\n      switch(this.state.stage){\n        \n        case 0:\n        \n        break\n        \n        case 1:\n        \n          tx = c.width/2 - s/2\n          x.fillStyle='#011a'\n          //x.fillRect(tx,  s/40, s/2, s)\n          x.drawImage(this.boardBG, tx,  s/40, s/2, s)\n          x.strokeStyle='#aff6'\n          x.lineWidth = 1\n          x.strokeRect(tx,  s/40, s/2, s)\n          let msp = s/500\n          this.state.boardData = this.state.boardData.map((v,i)=>{\n            if(v[0]){\n              let px = (i%10) * s / 20\n              let py = ((i/10|0)-6) * s / 20\n              if((i/10|0)-6>=0){\n                switch(this.state.colorMode){\n                  case 'cyberpunk':\n                    x.fillStyle=`hsla(${170},75%,${(v[1]?v[1]-1:0)*50*S(t*50)+25+70/7*(v[0]-1)}%,.8)`\n                    break\n                  case 'rainbows':\n                    x.fillStyle=`hsla(${360/7*(v[0]-1)},75%,${(v[1]?v[1]-1:0)*50*S(t*50)+50}%,.8)`\n                    break\n                }\n                x.fillRect(tx + px + msp, py + s/40 + msp, s/20 - msp*2, s/20 - msp*2)\n              }\n            }\n            if(v[1]) v[1]+=.018\n            if(v[1]>=2){\n              for(let m=i+10; (m-=10)>=20;){\n                if(m>=10){\n                  if(1||this.state.boardData[m-10][0]){\n                    this.state.boardData[m][0] = this.state.boardData[m-10][0]\n                    this.state.boardData[m][1] = this.state.boardData[m-10][1]\n                  }\n                }\n              }\n              v[1]=0\n            }\n            return v\n          })\n          \n          \n          x.fillStyle='#102a'\n          x.fillRect(tx + s/2 + s/32,  s/40, s/2 - s/16, s/2 - s/16)\n          x.strokeStyle='#aaf6'\n          x.lineWidth = 1\n          x.strokeRect(tx + s/2 + s/32,  s/40, s/2 - s/16, s/2 - s/16)\n          x.font= s**.9/12 + 'px \"Varela Round\"'\n          x.fillStyle='#86fc'\n          x.fillText('next piece', tx + s/2 + s/12 + (s/2 - s/16)/2.3 - s/9, s/11 - s/20 + s/40)\n          this.drawNextPiece(tx + s/2 + s/32 + 100, s/16 + s/10 - s/20, this.nextPieceIdx, 1)\n\n          /*\n\t\t\t\t\tx.strokeStyle='#aaf6'\n          x.lineWidth = 1\n          x.strokeRect(tx + s/2 + s/32 + s/80,  s/40 + s/64, s/8, s/8)\n          x.font= s**.9/14 + 'px \"Varela Round\"'\n          x.fillStyle='#8fc6'\n          x.fillText('swap', tx + s/2 + s/32 + s/32,  s/40 + s/64 + s/32*1.2, s/8, s/8)          \n          x.fillText('[tab]', tx + s/2 + s/32 + s/28,  s/40 + s/64 + s/32*2.85, s/8, s/8)\n          if(this.swapPieceIdx != null) this.drawNextPiece(tx + s/2 + s/32 + s/80,  s/40 + s/64, s/8, s/8, this.swapPieceIdx, 1)\n          */\n\n          x.fillStyle='#102a'\n          x.fillRect(tx + s/2 + s/32, s/2 - s/16 + s/10 - s/20, s/2 - s/16, s/2 + s/100 + s/40)\n          x.strokeStyle='#aaf6'\n          x.lineWidth = 1\n          x.strokeRect(tx + s/2 + s/32, s/2 - s/16 + s/10 - s/20, s/2 - s/16, s/2 + s/64 + s/40)\n          x.fillStyle='#86fc'\n          if(this.state.challengerJoined){\n            x.font= s**.9/16 + 'px \"Varela Round\"'\n            x.fillText('challengers', tx + s/1.8 + s/32 + s/2 / 2.3 - s/7, s/2 + s/14 - s/20)\n          }\n          this.drawOpponents(tx + s/2 + s/30, s/2 - s/16 + s/10 - s/20 + s/40)\n\t\t\t\t\t\n          if(((this.state.singlePlayerMode && this.state.alive) || (this.state.challengerJoined && this.state.gameActuallyPlaying &&\n             this.state.alive)) && !((t*60|0)%(this.dropFreq|0))){\n            this.advancePiece()\n          }\n\n          x.fillStyle='#2466'\n          if(this.currentPiece != null && ((this.state.singlePlayerMode && this.state.alive) || (this.state.challengerJoined && this.state.gameActuallyPlaying &&\n             this.state.alive))){\n\t\t\t\t\t\tlet tempPiece = JSON.parse(JSON.stringify(this.currentPiece))\n\t\t\t\t\t\tdo{\n\t\t\t\t\t\t\ttempPiece = tempPiece.map(v=>{\n\t\t\t\t\t\t\t  v[1]++\n\t\t\t\t\t\t\t\treturn v\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}while(this.canDo(tempPiece))\n            Array(260).fill().map((v, i)=>{\n              let px = (i%10) * s / 20\n              let py = ((i/10|0)-6) * s / 20\n\t\t\t\t\t\t  tempPiece.map(q=>{\n\t\t\t\t\t\t\t  if((i%10) == q[0] && ((i/10|0)-6)==q[1]-1){\n                  x.fillRect(tx + px + msp, py + s/40 + msp, s/20 - msp*2, s/20 - msp*2)\n                }\n\t\t\t\t\t\t\t})\n            })\n          }\n          if((this.state.singlePlayerMode && this.state.gameActuallyPlaying && this.state.alive) || this.state.challengerJoined && this.state.gameActuallyPlaying && this.state.alive) {\n            if(this.currentPiece != null){\n\t\t\t  \t\t  if(0&&this.tabKey){\n\t\t\t\t\t\t\t\tif(!this.swapped){\n\t\t\t\t\t\t\t\t\tlet tmpIdx = -1\n\t\t\t\t\t\t\t\t  if(this.swapPieceIdx) tmpIdx = this.swapPieceIdx\n\t\t\t\t\t\t\t\t  this.swapPieceIdx = this.currentPiece[0][2]\n\t\t\t\t\t\t\t\t\tif(tmpIdx == -1){\n\t\t\t\t\t\t\t\t\t  this.state.boardData = JSON.parse(JSON.stringify(this.tempBoard))\n\t\t\t\t\t\t\t\t\t\tthis.spawnPiece(4, -2)\n\t\t\t\t\t\t\t\t\t} else {\n                    this.tempBoard = JSON.parse(JSON.stringify(this.state.boardData))\n                    let n = tmpIdx\n                    let tempPiece = JSON.parse(JSON.stringify(this.B))[n].map(v=>{\n                      return [\n                        Math.round(X + v[0]),\n                        Math.round(Y + v[1]),\n                        n\n                      ]\n                    })\n                    if(this.canDo(tempPiece)){\n                      this.currentPiece = tempPiece\n                      this.state.boardData = this.state.boardData.map((v, i)=>{\n                        let tx = i%10\n                        let ty = (i/10|0) - 6\n                        this.currentPiece.map(q=>{\n                          if(q[0] == tx && q[1] == ty){\n                            v[0] = q[2]+1\n                            v[1] = 0\n                          }\n                        })\n                        return v\n                      })\n                    } else {\n                      this.state.alive = false\n                    }\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t  this.swapped = true\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tthis.tabKey = false\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif(this.spaceKey && this.currentPiece != null){\n                do{\n                  this.currentPiece = this.currentPiece.map(v=>{\n                    v[1]++\n                    return v\n                  })\n                }while(this.canDo(this.currentPiece))\n\t\t\t\t\t\t\t\tthis.state.boardData = JSON.parse(JSON.stringify(this.tempBoard))\n                this.state.boardData = this.state.boardData.map((v, i)=>{\n                  let tx = i%10\n                  let ty = (i/10|0) - 6\n                  this.currentPiece.map(q=>{\n                    if(q[0] == tx && q[1]-1 == ty){\n                      v[0] = q[2]+1\n                      v[1] = 0\n                    }\n                  })\n                  return v\n                })\n                this.currentPiece = null\n\t\t\t\t\t\t\t\tthis.spaceKey = false\n                this.tempBoard = JSON.parse(JSON.stringify(this.state.boardData))\n                this.checkRowCompletion()\n              } \n              if(this.leftKey && this.currentPiece != null){\n                if(this.pieceMoveTimer < t){\n                  let tempPiece = JSON.parse(JSON.stringify(this.currentPiece)).map(v=>{\n                    v[0]--\n                    return v\n                  })\n                  if(this.canDo(tempPiece)){\n                    this.currentPiece = tempPiece\n                    this.pieceMoveTimer = this.t + this.piceMoveInterval\n                  }\n                }\n              }\n              if(this.rightKey && this.currentPiece != null){\n                if(this.pieceMoveTimer < t){\n                  let tempPiece = JSON.parse(JSON.stringify(this.currentPiece)).map(v=>{\n                    v[0]++\n                    return v\n                  })\n                  if(this.canDo(tempPiece)){\n                    this.currentPiece = tempPiece\n                    this.pieceMoveTimer = this.t + this.piceMoveInterval\n                  }\n                }\n              }\n              if(this.downKey && this.pieceManualDropTimer < t && this.currentPiece != null){\n                this.advancePiece()\n                this.pieceManualDropTimer = this.t + this.piecManualDropInterval\n              }\n              if(this.upKey && this.currentPiece != null){\n                if(this.currentPiece[0][2]!=6){\n                  if(this.pieceRotateTimer < t){\n                    let tx = this.currentPiece[1][0]\n                    let ty = this.currentPiece[1][1]\n\t\t\t\t\t\t\t\t\t\tlet cx\n                    let tempPiece = JSON.parse(JSON.stringify(this.currentPiece)).map(v=>{\n                      cx = v[0]\n\t\t\t\t\t\t\t\t\t\t\tlet X = v[0]\n                      let Y = v[1]\n                      let p = Math.atan2(v[0]-tx, v[1]-ty) + Math.PI / 2\n                      let d = Math.hypot(v[0]-tx, v[1]-ty)\n                      v[0] = Math.round(tx+S(p)*d)\n                      v[1] = Math.round(ty+C(p)*d)\n                      return v\n                    })\n                    if(this.canDo(tempPiece)){\n                      this.currentPiece = tempPiece\n                      this.pieceRotateTimer = this.t + this.piceMoveInterval * 2\n                    } else if(cx >= 5) {\n\t\t\t\t\t\t\t\t\t\t\tlet tries = 0, res = false\n\t\t\t\t\t\t\t\t\t\t\tdo{\n\t\t\t\t\t\t\t\t\t\t\t\ttries++\n\t\t\t\t\t\t\t\t\t\t\t\ttempPiece = tempPiece.map(v=>{\n\t\t\t\t\t\t\t\t\t\t\t   v[0]--\n\t\t\t\t\t\t\t\t\t\t\t  \treturn v\n\t\t\t\t\t\t\t\t\t\t\t  })\n\t\t\t\t\t\t\t\t\t\t\t}while(!(res = this.canDo(tempPiece)) && tries < 3);\n\t\t\t\t\t\t\t\t\t\t\tif(res){\n\t\t\t\t\t\t\t\t\t\t\t\tthis.currentPiece = tempPiece\n                        this.pieceRotateTimer = this.t + this.piceMoveInterval * 2\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t} else if(cx <= 5) {\n                      let tries = 0, res = false\n                      do{\n                        tries++\n                        tempPiece = tempPiece.map(v=>{\n                         v[0]++\n                          return v\n                        })\n                      }while(!(res = this.canDo(tempPiece)) && tries < 3);\n                      if(res){\n\t\t\t\t\t\t\t\t\t\t\t\tthis.currentPiece = tempPiece\n                        this.pieceRotateTimer = this.t + this.piceMoveInterval * 2\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n                  }\n                }\n              }\n              if(this.currentPiece != null){\n                this.state.boardData = JSON.parse(JSON.stringify(this.tempBoard))\n                this.state.boardData = this.state.boardData.map((v, i)=>{\n                  let tx = i%10\n                  let ty = (i/10|0) - 6\n                  this.currentPiece.map(q=>{\n                    if(q[0] == tx && q[1] == ty){\n                      v[0] = q[2]+1\n                      v[1] = 0\n                    }\n                  })\n                  return v\n                })\n              }\n            } else {\n              if(!this.state.boardData.filter(v=>v[1]).length) this.spawnPiece(4, -2)\n            }\n          }\n\n          this.t += 1/60\n          requestAnimationFrame(this.Draw)\n        break\n        \n        case 2:\n        break\n      }\n\n    },\n    launchGame(){\n      this.stage = 0\n      this.state.countdownTimer = 0\n      this.t = 0\n      this.pollServer()\n      this.$nextTick(()=>this.Draw())\n    },\n    startGame(){\n      if(this.state.singlePlayerMode) {\n\t\t\t\thistory.pushState(0, 0 , window.location.origin + '/game')\n      } else {\n        history.pushState(0, 0 , window.location.origin + '/game/' + this.state.decToAlpha(this.state.gameID) + '/a')\n\t\t\t}\n\t\t\tthis.state.stage = 1\n      this.state.countdownTimer = 0\n      this.t = 0\n      if(!this.state.singlePlayerMode) {\n\t\t\t\tthis.pollServer()\n\t\t\t} else {\n\t\t\t  this.state.gameActuallyPlaying = false\n        this.state.countdownTimer = this.t + 6\n\t\t\t}\n      this.$nextTick(()=>this.Draw())\n      this.syncBoard()\n    },\n    playGame(){\n      this.state.gameActuallyPlaying = false\n      let sendData = {\n        gameID: this.state.gameID\n      }\n      fetch(this.state.baseURL + '/startGame.php',{\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify(sendData),\n      })\n      .then(res => res.json())\n      .then(data => {\n        if(data[0] !== 'started game# ' + this.state.gameID){\n          console.log('error starting game :(')\n        }\n      })\n    },\n    setupListeners(){\n      document.getElementsByTagName('body')[0].addEventListener('keydown', e=>{\n\t\t\t\tswitch(e.keyCode){\n          case 9: this.tabKey = true; break\n          case 37: this.leftKey = true; break\n          case 38: this.upKey = true; break\n          case 39: this.rightKey = true; break\n          case 40: this.downKey = true; break\n          case 32: this.spaceKey = true; break\n        }\n      })\n      document.getElementsByTagName('body')[0].addEventListener('keyup', e=>{\n        this.pieceMoveTimer = 0\n        this.pieceRotateTimer = 0\n\t\t\t\tswitch(e.keyCode){\n          case 9: this.tabKey = false; break\n          case 37: this.leftKey = false; break\n          case 38: this.upKey = false; break\n          case 39: this.rightKey = false; break\n          case 40: this.downKey = false; break\n          case 40: this.spaceKey = false; break\n        }\n      })\n    },\n    reload(){\n      this.syncBoard()\n      this.state.alive = true\n      this.currentPiece = null\n      this.dropFreq = this.initDropFreq\n      this.rowsCompleted = 0\n    }\n  },\n  watch:{\n    'state.gameActuallyPlaying'(val){\n      if(val){\n        this.reload()\n      }\n    },\n    'state.gameLink'(val){\n      if(val.length){\n        this.$nextTick(()=>{this.$nextTick(()=>this.startGame())})\n      }\n    },\n    countdown(val){\n      if(!val && this.playerJoinedCount > 1 &&\n\t\t\t\t!(this.state.author && this.state.stage==1 && !this.state.challengerJoined)\n\t\t\t\t) this.state.gameActuallyPlaying = true\n      if(this.state.singlePlayerMode && !val ) this.state.gameActuallyPlaying = true\n\t\t}\n  },\n  mounted(){\n    this.c = this.$refs.mainCanvas\n    this.x = this.c.getContext('2d')\n    this.t = 0\n    this.c.width = this.c.clientWidth\n    this.c.height = this.c.clientHeight\n    this.boardBG.src = 'https://lookie.jsbot.net/uploads/rjc4W.png'\n    if(this.state.author) this.gameActuallyPlaying = false\n    this.$nextTick(()=>{\n      if(this.state.stage != 1) this.$refs.userNameField.focus()\n      if(this.state.singlePlayerMode) this.launchSinglePlayer()\n\t\t})\n    this.setupListeners()\n\t}\n}\n</script>\n\n<style scoped>\ncanvas{\n  width: 100%;\n  height: 100px;\n  vertical-align: top;\n  height: 100%;\n}\n.main{\n  font-size: 32px;\n  text-align: center;\n  height: 100vh;\n}\n.headerText{\n  font-size: 64px;\n  color: #fff8;\n  position: absolute;\n  left: 50%;\n  top: 15px;\n  transform: translatex(-50%) scalex(2.0);\n  font-style: oblique;\n  text-shadow: 0px 0px 10px #0f4;\n}\n.innerInputForm{\n  position: absolute;\n  top: calc(50% - 50px);\n  left: calc(50% - 20px);\n  transform: translate(-50%, -50%);\n}\n.inputForm{\n  position: absolute;\n  top: 0;\n  left: 0;\n  padding: 50px;\n  height: 100%;\n  width: 100%;\n  color: #ff0;\n}\n.createGameButton{\n  width: 100%;\n  margin-top: 60px;\n}\n.disabled{\n  color: #000;\n  background: linear-gradient(135deg, #3338, #888)!important;\n}\n.linkDiv{\n  position: absolute;\n  top: calc(50% - 50px);\n  left: calc(50% - 20px);\n  transform: translate(-50%, -50%);\n}\n.copied{\n  background-color: #0f88!important;\n}\n.gamelink{\n  color: #8ff;\n  text-shadow: 1px 1px 2px #000;\n  text-decoration: none;\n  font-size: 18px;\n  padding: 5px;\n  display: inline-block;\n  padding-left: 20px;\n  padding-right: 20px;\n  background: #246;\n  border-radius: 10px;\n}\n.controls{\n  font-size: 20px;\n  position: absolute;\n  top: 80px;\n  z-index: 1010;\n  color: #468;\n  left: 50%;\n  width: 100%;\n  transform: translatex(-50%);\n}\n.actionContainer{\n  position: absolute;\n  top: calc(50vh + 50px);\n  height: calc(100vh - 100px);\n  max-height: 800px;\n  width: 100%;\n  transform: translateY(-50%);\n}\n</style>\n","<template>\r\n  <div class=\"header\">\r\n    <a href=\"javascript:window.location.href = window.location.origin\"><div class=\"headerText\">TETRIS<br>THE NEXT GENERATION</div></a>\r\n    <canvas ref=\"headerCanvas\"></canvas>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'Header',\r\n  props: [ 'state' ],\r\n  data(){\r\n    return {\r\n      t: 0,\r\n      S: Math.sin,\r\n      C: Math.cos,\r\n      x: null,\r\n      c: null\r\n    }\r\n  },\r\n  computed:{\r\n  },\r\n  methods:{\r\n    Draw(){\r\n      let t = this.t\r\n      let S = this.S\r\n      let C = this.C\r\n      let x = this.x\r\n      let c = this.c\r\n      \r\n      let G, j, i, p, a, l, B, w, Rn, R, Q, Rl, Pt, Yw, oX, oY, oZ, tx, ty, tz, X, Y, Z, M, A, H, d\r\n      \r\n      R=(Rl,Pt,Yw,o)=>{\r\n        X=S(p=(A=(M=Math).atan2)(X,Y)+Rl)*(d=(H=M.hypot)(X,Y)),Y=C(p)*d,Y=S(p=A(Y,Z)+Pt)*(d=H(Y,Z)),Z=C(p)*d,X=S(p=A(X,Z)+Yw)*(d=H(X,Z)),Z=C(p)*d\r\n        if(o)X+=oX,Y+=oY,Z+=oZ\r\n      }\r\n\r\n      for(G=[],j=6;j--;)for(i=4;i--;)G=[...G,[(a=[S(p=Math.PI*2/4*i+Math.PI/4)*(2**.5)/2,C(p)*(2**.5)/2,.5])[j%3]*(l=j<3?1:-1),a[(j+1)%3]*l,a[(j+2)%3]*l]]\r\n      B = [\r\n        [[-.5,-1,0],[-.5,0,0],[-.5,1,0],[.5,1,0]],\r\n        [[.5,-1,0],[.5,0,0],[.5,1,0],[-.5,1,0]],\r\n        [[-1,0,0],[0,0,0],[1,0,0],[0,1,0]],\r\n        [[-1.5,0,0],[-.5,0,0],[.5,0,0],[1.5,0,0]],\r\n        [[-.5,-1,0],[-.5,0,0],[.5,0,0],[.5,1,0]],\r\n        [[.5,-1,0],[.5,0,0],[-.5,0,0],[-.5,1,0]],\r\n        [[-.5,-.5,0],[.5,-.5,0],[.5,.5,0],[-.5,.5,0]]\r\n      ]\r\n      \r\n      c.width = c.clientWidth\r\n      x.fillStyle='#000', x.clearRect(0,0,w=c.width,w)\r\n      x.lineJoin=x.lineCap='round'\r\n      \r\n      Rl=t, Pt=-t/2, Yw=t\r\n      oX=0, oY=0, oZ=5\r\n      \r\n      B.map((v, j)=>{\r\n        v.map(v=>{\r\n          tx=v[0]\r\n          ty=v[1]\r\n          tz=v[2]\r\n          G.map((q, i)=>{\r\n            X = q[0] + tx\r\n            Y = q[1] + ty\r\n            Z = q[2] + tz\r\n            R(Rl*(j%2?1:-1),Pt*(j%2?1:-1.5),Yw,1)\r\n            if(!(i%4)) x.beginPath()\r\n            x.lineTo(X/Z*100 + ((-3+j)*c.width/7 - C(t/3) * 1000 + c.width/2*99)%c.width, c.height/2+Y/Z*100)\r\n            if(i%4==3){\r\n              switch(this.state.colorMode){\r\n                case 'cyberpunk':\r\n                  x.strokeStyle=`hsla(${170},75%,${50}%,.8)`\r\n                  x.fillStyle=`hsla(${170},75%,${50}%,.3)`\r\n                  break\r\n                case 'rainbows':\r\n                  x.strokeStyle=`hsla(${360/7*(j-1)},75%,50%,.8)`\r\n                  x.fillStyle=`hsla(${360/7*(j-1)},75%,50%,.3)`\r\n                  break\r\n              }\r\n              x.closePath()\r\n              x.lineWidth=4/Z\r\n              //x.strokeStyle=`hsla(${360/7*j},99%,80%,.8)`\r\n              x.stroke()\r\n              //x.fillStyle=`hsla(${360/7*j},99%,50%,.3)`\r\n              x.fill()\r\n            }\r\n          })\r\n        })\r\n      })\r\n      \r\n      this.t += 1/60\r\n      requestAnimationFrame(this.Draw)\r\n    }\r\n  },\r\n  mounted(){\r\n    this.$nextTick(()=>{\r\n      this.c = this.$refs.headerCanvas\r\n      this.x = this.c.getContext('2d')\r\n      this.t = 0\r\n      this.c.width = this.c.clientWidth\r\n      this.c.height = this.c.clientHeight\r\n      this.Draw()\r\n    })\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\ncanvas{\r\n  width: 100%;\r\n  height: 100px;\r\n  vertical-align: top;\r\n}\r\n.header{\r\n  position: relative;\r\n  z-index: 10;\r\n  width: 100vw;\r\n  font-size: 32px;\r\n  text-align: center;\r\n}\r\n.headerText{\r\n  font-size: 28px;\r\n  color: #fff8;\r\n  position: absolute;\r\n  min-width: 450px;\r\n\tleft: 50%;\r\n  top: 15px;\r\n  transform: translatex(-50%) scalex(2.0);\r\n  font-style: oblique;\r\n  text-shadow: 0px 0px 10px #0f4;\r\n}\r\n</style>\r\n","import { render } from \"./Header.vue?vue&type=template&id=a044c876&scoped=true\"\nimport script from \"./Header.vue?vue&type=script&lang=js\"\nexport * from \"./Header.vue?vue&type=script&lang=js\"\n\nimport \"./Header.vue?vue&type=style&index=0&id=a044c876&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-a044c876\"\n\nexport default script","import { render } from \"./Main.vue?vue&type=template&id=273f5400&scoped=true\"\nimport script from \"./Main.vue?vue&type=script&lang=js\"\nexport * from \"./Main.vue?vue&type=script&lang=js\"\n\nimport \"./Main.vue?vue&type=style&index=0&id=273f5400&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-273f5400\"\n\nexport default script","import { render } from \"./App.vue?vue&type=template&id=725741a8\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\n\nimport \"./App.vue?vue&type=style&index=0&id=725741a8&lang=css\"\nscript.render = render\n\nexport default script","import { createApp } from 'vue'\nimport App from './App.vue'\n\ncreateApp(App).mount('#app')\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Header.vue?vue&type=style&index=0&id=a044c876&scoped=true&lang=css\"","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader-v16/dist/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./App.vue?vue&type=style&index=0&id=725741a8&lang=css\""],"sourceRoot":""}